sensio_framework_extra:
    view: { annotations: false }
    router: { annotations: true }

# JMSSerializerBundle (required by FosRestBundle)
jms_serializer:
    handlers:
        object_based: false
        datetime:
            format: Y-m-d H:i:s
            default_timezone: UTC
        array_collection: true
        form_error: true
        constraint_violation: true

    property_naming:
        separator: _
        lower_case: true

    metadata:
        cache: file
        debug: %kernel.debug%
        file_cache:
            dir: %kernel.cache_dir%/serializer

        # Using auto-detection, the mapping files for each bundle will be
        # expected in the Resources/config/serializer directory.
        #
        # Example:
        # class: My\FooBundle\Entity\User
        # expected path: @MyFooBundle/Resources/config/serializer/Entity.User.(yml|xml|php)
        auto_detection: true

        # if you don't want to use auto-detection, you can also define the
        # namespace prefix and the corresponding directory explicitly
        # directories:
        # any-name:
        # namespace_prefix: My\FooBundle
        # path: @MyFooBundle/Resources/config/serializer
        # another-name:
        # namespace_prefix: My\BarBundle
        # path: @MyBarBundle/Resources/config/serializer

fos_rest:
    routing_loader:
        default_format:       null
    service:
        router:               router
        templating:           templating
        serializer:           jms_serializer.serializer
        view_handler:         fos_rest.view_handler.default
    view:
#        default_engine:       twig
        force_redirects:
           html: false
        formats:
            json: true
            xml: false
        templating_formats:
            html: true
        view_response_listener:  force
        failed_validation:       HTTP_BAD_REQUEST
    exception:
        codes: ~
        messages: ~
    body_listener:
        decoders:
            json: fos_rest.decoder.json
            xml: fos_rest.decoder.xml
    format_listener:
        default_priorities: [html, */*]
        prefer_extension:     true
        fallback_format:      html